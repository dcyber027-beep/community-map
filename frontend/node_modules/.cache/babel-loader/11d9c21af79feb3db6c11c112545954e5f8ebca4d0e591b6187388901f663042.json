{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter,Routes,Route,useNavigate}from'react-router-dom';import axios from'axios';import'@/App.css';import MapView from'@/components/MapView';import ListView from'@/components/ListView';import ReportForm from'@/components/ReportForm';import AdminDashboard from'@/components/AdminDashboard';import{Toaster}from'@/components/ui/sonner';import{toast}from'sonner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");function HomePage(){const[incidents,setIncidents]=useState([]);const[showReportForm,setShowReportForm]=useState(false);const[view,setView]=useState('map');// 'map' or 'list'\nconst[filter,setFilter]=useState('all');// 'all', '2h', '4h'\nconst[userLocation,setUserLocation]=useState(null);const[selectedLocation,setSelectedLocation]=useState(null);const navigate=useNavigate();// Request notification permission\nuseEffect(()=>{if('Notification'in window&&Notification.permission==='default'){Notification.requestPermission();}},[]);// Get user location\nuseEffect(()=>{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(position=>{setUserLocation({latitude:position.coords.latitude,longitude:position.coords.longitude});},error=>{console.log('Location access denied:',error);});}},[]);// Fetch incidents\nconst fetchIncidents=async()=>{try{let url=\"\".concat(API,\"/incidents\");if(filter==='2h')url+='?hours=2';if(filter==='4h')url+='?hours=4';const response=await axios.get(url);setIncidents(response.data);// Check for nearby urgent incidents\nif(userLocation&&Notification.permission==='granted'){response.data.forEach(incident=>{if(incident.urgency==='high'){const distance=calculateDistance(userLocation.latitude,userLocation.longitude,incident.latitude,incident.longitude);if(distance<=500){new Notification('âš ï¸ Urgent Incident Nearby!',{body:\"\".concat(getCategoryEmoji(incident.category),\" \").concat(incident.category.toUpperCase(),\" reported within 500m\"),icon:'/logo192.png'});}}});}}catch(error){console.error('Error fetching incidents:',error);}};useEffect(()=>{fetchIncidents();const interval=setInterval(fetchIncidents,30000);// Refresh every 30 seconds\nreturn()=>clearInterval(interval);},[filter,userLocation]);const calculateDistance=(lat1,lon1,lat2,lon2)=>{const R=6371000;// Earth's radius in meters\nconst phi1=lat1*Math.PI/180;const phi2=lat2*Math.PI/180;const deltaPhi=(lat2-lat1)*Math.PI/180;const deltaLambda=(lon2-lon1)*Math.PI/180;const a=Math.sin(deltaPhi/2)*Math.sin(deltaPhi/2)+Math.cos(phi1)*Math.cos(phi2)*Math.sin(deltaLambda/2)*Math.sin(deltaLambda/2);const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return R*c;};const getCategoryEmoji=category=>{const emojis={protest:'âš ï¸',theft:'ðŸ’°',harassment:'ðŸš¨'};return emojis[category]||'ðŸ“';};const handleReportSubmit=async reportData=>{try{await axios.post(\"\".concat(API,\"/incidents\"),reportData);toast.success('Incident reported successfully');setShowReportForm(false);fetchIncidents();}catch(error){toast.error('Failed to submit report');console.error('Error submitting report:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-rose-600 to-red-600 text-white py-3 shadow-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col sm:flex-row items-center justify-center gap-2 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-lg\",children:\"\\uD83D\\uDEA8 Emergency? Call 000 for immediate assistance\"})})})}),/*#__PURE__*/_jsx(\"header\",{className:\"bg-white/80 backdrop-blur-md border-b border-slate-200 sticky top-0 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-xl font-bold\",children:\"M\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-slate-900\",children:\"Community Map\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-600\",children:\"Stay Safe - Report incidents, find help, discover local opportunities\"})]})]}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"admin-dashboard-button\",onClick:()=>navigate('/admin'),className:\"px-4 py-2 text-sm font-medium text-slate-700 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors\",children:\"Admin\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"view-toggle-map\",onClick:()=>setView('map'),className:\"px-4 py-2 rounded-lg font-medium transition-all \".concat(view==='map'?'bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/30':'bg-white text-slate-700 hover:bg-slate-50 border border-slate-200'),children:\"Map View\"}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"view-toggle-list\",onClick:()=>setView('list'),className:\"px-4 py-2 rounded-lg font-medium transition-all \".concat(view==='list'?'bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/30':'bg-white text-slate-700 hover:bg-slate-50 border border-slate-200'),children:\"List View\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 items-center\",children:[/*#__PURE__*/_jsxs(\"select\",{\"data-testid\":\"time-filter\",value:filter,onChange:e=>setFilter(e.target.value),className:\"px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-700 font-medium focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Reports\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2h\",children:\"Last 2 Hours\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4h\",children:\"Last 4 Hours\"})]}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"report-incident-button\",onClick:()=>setShowReportForm(true),className:\"px-6 py-2 bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-lg font-medium hover:shadow-lg hover:shadow-rose-500/30 transition-all\",children:\"+ Report Incident\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-amber-50 border border-amber-200 rounded-xl p-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-amber-900\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"\\uD83D\\uDCE2 Live Updates:\"}),\" Reports are automatically cleared after 6 hours. Notifications enabled for urgent incidents within 500m.\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden relative z-10\",children:view==='map'?/*#__PURE__*/_jsx(MapView,{incidents:incidents,userLocation:userLocation,getCategoryEmoji:getCategoryEmoji,onMapClick:(lat,lng)=>{setSelectedLocation({latitude:lat,longitude:lng});setShowReportForm(true);}}):/*#__PURE__*/_jsx(ListView,{incidents:incidents,getCategoryEmoji:getCategoryEmoji})})]}),showReportForm&&/*#__PURE__*/_jsx(ReportForm,{onClose:()=>{setShowReportForm(false);setSelectedLocation(null);},onSubmit:handleReportSubmit,userLocation:userLocation,selectedLocation:selectedLocation}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\"})]});}function App(){return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminDashboard,{})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","useNavigate","axios","MapView","ListView","ReportForm","AdminDashboard","Toaster","toast","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","HomePage","incidents","setIncidents","showReportForm","setShowReportForm","view","setView","filter","setFilter","userLocation","setUserLocation","selectedLocation","setSelectedLocation","navigate","window","Notification","permission","requestPermission","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","error","console","log","fetchIncidents","url","response","get","data","forEach","incident","urgency","distance","calculateDistance","body","getCategoryEmoji","category","toUpperCase","icon","interval","setInterval","clearInterval","lat1","lon1","lat2","lon2","R","phi1","Math","PI","phi2","deltaPhi","deltaLambda","a","sin","cos","c","atan2","sqrt","emojis","protest","theft","harassment","handleReportSubmit","reportData","post","success","className","children","onClick","value","onChange","e","target","onMapClick","lat","lng","onClose","onSubmit","App","path","element"],"sources":["/app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport '@/App.css';\nimport MapView from '@/components/MapView';\nimport ListView from '@/components/ListView';\nimport ReportForm from '@/components/ReportForm';\nimport AdminDashboard from '@/components/AdminDashboard';\nimport { Toaster } from '@/components/ui/sonner';\nimport { toast } from 'sonner';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\nfunction HomePage() {\n  const [incidents, setIncidents] = useState([]);\n  const [showReportForm, setShowReportForm] = useState(false);\n  const [view, setView] = useState('map'); // 'map' or 'list'\n  const [filter, setFilter] = useState('all'); // 'all', '2h', '4h'\n  const [userLocation, setUserLocation] = useState(null);\n  const [selectedLocation, setSelectedLocation] = useState(null);\n  const navigate = useNavigate();\n\n  // Request notification permission\n  useEffect(() => {\n    if ('Notification' in window && Notification.permission === 'default') {\n      Notification.requestPermission();\n    }\n  }, []);\n\n  // Get user location\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          setUserLocation({\n            latitude: position.coords.latitude,\n            longitude: position.coords.longitude\n          });\n        },\n        (error) => {\n          console.log('Location access denied:', error);\n        }\n      );\n    }\n  }, []);\n\n  // Fetch incidents\n  const fetchIncidents = async () => {\n    try {\n      let url = `${API}/incidents`;\n      if (filter === '2h') url += '?hours=2';\n      if (filter === '4h') url += '?hours=4';\n      \n      const response = await axios.get(url);\n      setIncidents(response.data);\n      \n      // Check for nearby urgent incidents\n      if (userLocation && Notification.permission === 'granted') {\n        response.data.forEach(incident => {\n          if (incident.urgency === 'high') {\n            const distance = calculateDistance(\n              userLocation.latitude,\n              userLocation.longitude,\n              incident.latitude,\n              incident.longitude\n            );\n            \n            if (distance <= 500) {\n              new Notification('âš ï¸ Urgent Incident Nearby!', {\n                body: `${getCategoryEmoji(incident.category)} ${incident.category.toUpperCase()} reported within 500m`,\n                icon: '/logo192.png'\n              });\n            }\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching incidents:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchIncidents();\n    const interval = setInterval(fetchIncidents, 30000); // Refresh every 30 seconds\n    return () => clearInterval(interval);\n  }, [filter, userLocation]);\n\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371000; // Earth's radius in meters\n    const phi1 = (lat1 * Math.PI) / 180;\n    const phi2 = (lat2 * Math.PI) / 180;\n    const deltaPhi = ((lat2 - lat1) * Math.PI) / 180;\n    const deltaLambda = ((lon2 - lon1) * Math.PI) / 180;\n\n    const a = Math.sin(deltaPhi / 2) * Math.sin(deltaPhi / 2) +\n              Math.cos(phi1) * Math.cos(phi2) *\n              Math.sin(deltaLambda / 2) * Math.sin(deltaLambda / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n    return R * c;\n  };\n\n  const getCategoryEmoji = (category) => {\n    const emojis = {\n      protest: 'âš ï¸',\n      theft: 'ðŸ’°',\n      harassment: 'ðŸš¨'\n    };\n    return emojis[category] || 'ðŸ“';\n  };\n\n  const handleReportSubmit = async (reportData) => {\n    try {\n      await axios.post(`${API}/incidents`, reportData);\n      toast.success('Incident reported successfully');\n      setShowReportForm(false);\n      fetchIncidents();\n    } catch (error) {\n      toast.error('Failed to submit report');\n      console.error('Error submitting report:', error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50\">\n      {/* Emergency Banner */}\n      <div className=\"bg-gradient-to-r from-rose-600 to-red-600 text-white py-3 shadow-lg\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex flex-col sm:flex-row items-center justify-center gap-2 text-center\">\n            <p className=\"font-bold text-lg\">ðŸš¨ Emergency? Call 000 for immediate assistance</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Header */}\n      <header className=\"bg-white/80 backdrop-blur-md border-b border-slate-200 sticky top-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center\">\n                <span className=\"text-white text-xl font-bold\">M</span>\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold text-slate-900\">Community Map</h1>\n                <p className=\"text-xs text-slate-600\">Stay Safe - Report incidents, find help, discover local opportunities</p>\n              </div>\n            </div>\n            <button\n              data-testid=\"admin-dashboard-button\"\n              onClick={() => navigate('/admin')}\n              className=\"px-4 py-2 text-sm font-medium text-slate-700 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors\"\n            >\n              Admin\n            </button>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6\">\n        {/* Controls */}\n        <div className=\"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between\">\n          <div className=\"flex flex-wrap gap-2\">\n            <button\n              data-testid=\"view-toggle-map\"\n              onClick={() => setView('map')}\n              className={`px-4 py-2 rounded-lg font-medium transition-all ${\n                view === 'map'\n                  ? 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/30'\n                  : 'bg-white text-slate-700 hover:bg-slate-50 border border-slate-200'\n              }`}\n            >\n              Map View\n            </button>\n            <button\n              data-testid=\"view-toggle-list\"\n              onClick={() => setView('list')}\n              className={`px-4 py-2 rounded-lg font-medium transition-all ${\n                view === 'list'\n                  ? 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/30'\n                  : 'bg-white text-slate-700 hover:bg-slate-50 border border-slate-200'\n              }`}\n            >\n              List View\n            </button>\n          </div>\n\n          <div className=\"flex flex-wrap gap-2 items-center\">\n            <select\n              data-testid=\"time-filter\"\n              value={filter}\n              onChange={(e) => setFilter(e.target.value)}\n              className=\"px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-700 font-medium focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"all\">All Reports</option>\n              <option value=\"2h\">Last 2 Hours</option>\n              <option value=\"4h\">Last 4 Hours</option>\n            </select>\n            <button\n              data-testid=\"report-incident-button\"\n              onClick={() => setShowReportForm(true)}\n              className=\"px-6 py-2 bg-gradient-to-r from-rose-500 to-pink-600 text-white rounded-lg font-medium hover:shadow-lg hover:shadow-rose-500/30 transition-all\"\n            >\n              + Report Incident\n            </button>\n          </div>\n        </div>\n\n        {/* Info Banner */}\n        <div className=\"bg-amber-50 border border-amber-200 rounded-xl p-4\">\n          <p className=\"text-sm text-amber-900\">\n            <span className=\"font-semibold\">ðŸ“¢ Live Updates:</span> Reports are automatically cleared after 6 hours. Notifications enabled for urgent incidents within 500m.\n          </p>\n        </div>\n\n        {/* View Container */}\n        <div className=\"bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden relative z-10\">\n          {view === 'map' ? (\n            <MapView \n              incidents={incidents} \n              userLocation={userLocation} \n              getCategoryEmoji={getCategoryEmoji}\n              onMapClick={(lat, lng) => {\n                setSelectedLocation({ latitude: lat, longitude: lng });\n                setShowReportForm(true);\n              }}\n            />\n          ) : (\n            <ListView incidents={incidents} getCategoryEmoji={getCategoryEmoji} />\n          )}\n        </div>\n      </div>\n\n      {/* Report Form Modal */}\n      {showReportForm && (\n        <ReportForm\n          onClose={() => {\n            setShowReportForm(false);\n            setSelectedLocation(null);\n          }}\n          onSubmit={handleReportSubmit}\n          userLocation={userLocation}\n          selectedLocation={selectedLocation}\n        />\n      )}\n\n      <Toaster position=\"top-right\" />\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<HomePage />} />\n          <Route path=\"/admin\" element={<AdminDashboard />} />\n        </Routes>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}