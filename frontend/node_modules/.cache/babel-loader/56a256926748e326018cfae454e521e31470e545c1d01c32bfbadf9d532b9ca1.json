{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/components/MapView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { MapPin } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapView = ({\n  incidents,\n  userLocation,\n  getCategoryEmoji,\n  onMapClick\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markersRef = useRef([]);\n  const draggableMarkerRef = useRef(null);\n  const [showPinHelper, setShowPinHelper] = useState(true);\n  useEffect(() => {\n    // Initialize map only once\n    if (!mapInstanceRef.current && mapRef.current) {\n      // Default to Melbourne CBD\n      const defaultCenter = [-37.8136, 144.9631];\n      mapInstanceRef.current = L.map(mapRef.current).setView(defaultCenter, 13);\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '¬© OpenStreetMap contributors',\n        maxZoom: 19\n      }).addTo(mapInstanceRef.current);\n\n      // Add draggable pin for reporting\n      const pinIcon = L.divIcon({\n        className: 'draggable-pin-marker',\n        html: `\n          <div style=\"\n            position: relative;\n            width: 40px;\n            height: 50px;\n          \">\n            <div style=\"\n              position: absolute;\n              bottom: 0;\n              left: 50%;\n              transform: translateX(-50%);\n              width: 0;\n              height: 0;\n              border-left: 20px solid transparent;\n              border-right: 20px solid transparent;\n              border-top: 40px solid #3b82f6;\n              filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));\n            \"></div>\n            <div style=\"\n              position: absolute;\n              top: 0;\n              left: 50%;\n              transform: translateX(-50%);\n              background: white;\n              width: 30px;\n              height: 30px;\n              border-radius: 50%;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              font-size: 20px;\n              border: 3px solid #3b82f6;\n              box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n            \">üìç</div>\n          </div>\n        `,\n        iconSize: [40, 50],\n        iconAnchor: [20, 50]\n      });\n      draggableMarkerRef.current = L.marker(defaultCenter, {\n        icon: pinIcon,\n        draggable: true,\n        autoPan: true\n      }).addTo(mapInstanceRef.current);\n      draggableMarkerRef.current.bindPopup('<b>Drag me to report location</b><br/>Double-click to open report form', {\n        offset: [0, -40]\n      }).openPopup();\n\n      // Double-click to open report form\n      draggableMarkerRef.current.on('dblclick', () => {\n        const pos = draggableMarkerRef.current.getLatLng();\n        if (onMapClick) {\n          onMapClick(pos.lat, pos.lng);\n        }\n      });\n\n      // Update popup on drag\n      draggableMarkerRef.current.on('dragend', () => {\n        const pos = draggableMarkerRef.current.getLatLng();\n        draggableMarkerRef.current.getPopup().setContent(`<b>Location selected</b><br/>Lat: ${pos.lat.toFixed(4)}, Lng: ${pos.lng.toFixed(4)}<br/>Double-click to report`);\n        setTimeout(() => setShowPinHelper(false), 3000);\n      });\n    }\n\n    // Clear existing markers\n    markersRef.current.forEach(marker => marker.remove());\n    markersRef.current = [];\n\n    // Add user location marker\n    if (userLocation && mapInstanceRef.current) {\n      const userMarker = L.marker([userLocation.latitude, userLocation.longitude], {\n        icon: L.divIcon({\n          className: 'custom-user-marker',\n          html: `<div style=\"background-color: #3b82f6; width: 16px; height: 16px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3);\"></div>`,\n          iconSize: [16, 16],\n          iconAnchor: [8, 8]\n        })\n      });\n      userMarker.bindPopup('<b>Your Location</b>');\n      userMarker.addTo(mapInstanceRef.current);\n      markersRef.current.push(userMarker);\n\n      // Add 500m radius circle\n      const circle = L.circle([userLocation.latitude, userLocation.longitude], {\n        color: '#3b82f6',\n        fillColor: '#3b82f6',\n        fillOpacity: 0.1,\n        radius: 500\n      }).addTo(mapInstanceRef.current);\n      markersRef.current.push(circle);\n    }\n\n    // Add incident markers\n    incidents.forEach(incident => {\n      const urgencyColors = {\n        low: '#10b981',\n        medium: '#f59e0b',\n        high: '#ef4444'\n      };\n      const emoji = getCategoryEmoji(incident.category);\n      const color = urgencyColors[incident.urgency] || '#6b7280';\n      const marker = L.marker([incident.latitude, incident.longitude], {\n        icon: L.divIcon({\n          className: 'custom-incident-marker',\n          html: `\n            <div style=\"\n              background-color: ${color};\n              width: 40px;\n              height: 40px;\n              border-radius: 50%;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              border: 3px solid white;\n              box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n              font-size: 20px;\n              cursor: pointer;\n              transition: transform 0.2s;\n            \">${emoji}</div>\n          `,\n          iconSize: [40, 40],\n          iconAnchor: [20, 20]\n        })\n      });\n      const timeAgo = getTimeAgo(new Date(incident.timestamp));\n      const verifiedBadge = incident.is_verified ? '<span style=\"color: #10b981; font-weight: bold;\">‚úì Verified</span>' : '<span style=\"color: #f59e0b;\">‚ö† Unverified</span>';\n      const clusterInfo = incident.cluster_count > 1 ? `<br><span style=\"color: #ef4444; font-weight: bold;\">${incident.cluster_count} reports in this area</span>` : '';\n      marker.bindPopup(`\n        <div style=\"min-width: 200px;\">\n          <div style=\"font-size: 18px; margin-bottom: 8px;\">${emoji} <b>${incident.category.toUpperCase()}</b></div>\n          <div style=\"margin-bottom: 4px;\"><b>Urgency:</b> <span style=\"color: ${color}; font-weight: bold;\">${incident.urgency.toUpperCase()}</span></div>\n          <div style=\"margin-bottom: 4px;\"><b>Status:</b> ${verifiedBadge}</div>\n          <div style=\"margin-bottom: 8px;\"><b>Time:</b> ${timeAgo}</div>\n          <div style=\"border-top: 1px solid #e5e7eb; padding-top: 8px; margin-top: 8px;\">${incident.description}</div>\n          ${clusterInfo}\n        </div>\n      `);\n      marker.addTo(mapInstanceRef.current);\n      markersRef.current.push(marker);\n    });\n\n    // Auto-center map if there are incidents\n    if (incidents.length > 0 && mapInstanceRef.current) {\n      const bounds = L.latLngBounds(incidents.map(i => [i.latitude, i.longitude]));\n      if (userLocation) {\n        bounds.extend([userLocation.latitude, userLocation.longitude]);\n      }\n      mapInstanceRef.current.fitBounds(bounds, {\n        padding: [50, 50]\n      });\n    } else if (userLocation && mapInstanceRef.current) {\n      mapInstanceRef.current.setView([userLocation.latitude, userLocation.longitude], 14);\n    }\n    return () => {\n      // Cleanup on unmount only\n      if (mapInstanceRef.current) {\n        markersRef.current.forEach(marker => marker.remove());\n      }\n    };\n  }, [incidents, userLocation]);\n  const getTimeAgo = date => {\n    const seconds = Math.floor((new Date() - date) / 1000);\n    if (seconds < 60) return 'Just now';\n    if (seconds < 3600) return `${Math.floor(seconds / 60)} min ago`;\n    if (seconds < 86400) return `${Math.floor(seconds / 3600)} hr ago`;\n    return `${Math.floor(seconds / 86400)} days ago`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    \"data-testid\": \"map-view\",\n    ref: mapRef,\n    style: {\n      height: '600px',\n      width: '100%'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n};\n_s(MapView, \"N2AsfZE/V/3eWXNj5NQzZ49EmOM=\");\n_c = MapView;\nexport default MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useEffect","useRef","useState","L","MapPin","jsxDEV","_jsxDEV","MapView","incidents","userLocation","getCategoryEmoji","onMapClick","_s","mapRef","mapInstanceRef","markersRef","draggableMarkerRef","showPinHelper","setShowPinHelper","current","defaultCenter","map","setView","tileLayer","attribution","maxZoom","addTo","pinIcon","divIcon","className","html","iconSize","iconAnchor","marker","icon","draggable","autoPan","bindPopup","offset","openPopup","on","pos","getLatLng","lat","lng","getPopup","setContent","toFixed","setTimeout","forEach","remove","userMarker","latitude","longitude","push","circle","color","fillColor","fillOpacity","radius","incident","urgencyColors","low","medium","high","emoji","category","urgency","timeAgo","getTimeAgo","Date","timestamp","verifiedBadge","is_verified","clusterInfo","cluster_count","toUpperCase","description","length","bounds","latLngBounds","i","extend","fitBounds","padding","date","seconds","Math","floor","ref","style","height","width","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/app/frontend/src/components/MapView.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { MapPin } from 'lucide-react';\n\nconst MapView = ({ incidents, userLocation, getCategoryEmoji, onMapClick }) => {\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const markersRef = useRef([]);\n  const draggableMarkerRef = useRef(null);\n  const [showPinHelper, setShowPinHelper] = useState(true);\n\n  useEffect(() => {\n    // Initialize map only once\n    if (!mapInstanceRef.current && mapRef.current) {\n      // Default to Melbourne CBD\n      const defaultCenter = [-37.8136, 144.9631];\n      \n      mapInstanceRef.current = L.map(mapRef.current).setView(defaultCenter, 13);\n\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '¬© OpenStreetMap contributors',\n        maxZoom: 19\n      }).addTo(mapInstanceRef.current);\n\n      // Add draggable pin for reporting\n      const pinIcon = L.divIcon({\n        className: 'draggable-pin-marker',\n        html: `\n          <div style=\"\n            position: relative;\n            width: 40px;\n            height: 50px;\n          \">\n            <div style=\"\n              position: absolute;\n              bottom: 0;\n              left: 50%;\n              transform: translateX(-50%);\n              width: 0;\n              height: 0;\n              border-left: 20px solid transparent;\n              border-right: 20px solid transparent;\n              border-top: 40px solid #3b82f6;\n              filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));\n            \"></div>\n            <div style=\"\n              position: absolute;\n              top: 0;\n              left: 50%;\n              transform: translateX(-50%);\n              background: white;\n              width: 30px;\n              height: 30px;\n              border-radius: 50%;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              font-size: 20px;\n              border: 3px solid #3b82f6;\n              box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n            \">üìç</div>\n          </div>\n        `,\n        iconSize: [40, 50],\n        iconAnchor: [20, 50]\n      });\n\n      draggableMarkerRef.current = L.marker(defaultCenter, {\n        icon: pinIcon,\n        draggable: true,\n        autoPan: true\n      }).addTo(mapInstanceRef.current);\n\n      draggableMarkerRef.current.bindPopup(\n        '<b>Drag me to report location</b><br/>Double-click to open report form',\n        { offset: [0, -40] }\n      ).openPopup();\n\n      // Double-click to open report form\n      draggableMarkerRef.current.on('dblclick', () => {\n        const pos = draggableMarkerRef.current.getLatLng();\n        if (onMapClick) {\n          onMapClick(pos.lat, pos.lng);\n        }\n      });\n\n      // Update popup on drag\n      draggableMarkerRef.current.on('dragend', () => {\n        const pos = draggableMarkerRef.current.getLatLng();\n        draggableMarkerRef.current.getPopup().setContent(\n          `<b>Location selected</b><br/>Lat: ${pos.lat.toFixed(4)}, Lng: ${pos.lng.toFixed(4)}<br/>Double-click to report`\n        );\n        setTimeout(() => setShowPinHelper(false), 3000);\n      });\n    }\n\n    // Clear existing markers\n    markersRef.current.forEach(marker => marker.remove());\n    markersRef.current = [];\n\n    // Add user location marker\n    if (userLocation && mapInstanceRef.current) {\n      const userMarker = L.marker([userLocation.latitude, userLocation.longitude], {\n        icon: L.divIcon({\n          className: 'custom-user-marker',\n          html: `<div style=\"background-color: #3b82f6; width: 16px; height: 16px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3);\"></div>`,\n          iconSize: [16, 16],\n          iconAnchor: [8, 8]\n        })\n      });\n      userMarker.bindPopup('<b>Your Location</b>');\n      userMarker.addTo(mapInstanceRef.current);\n      markersRef.current.push(userMarker);\n\n      // Add 500m radius circle\n      const circle = L.circle([userLocation.latitude, userLocation.longitude], {\n        color: '#3b82f6',\n        fillColor: '#3b82f6',\n        fillOpacity: 0.1,\n        radius: 500\n      }).addTo(mapInstanceRef.current);\n      markersRef.current.push(circle);\n    }\n\n    // Add incident markers\n    incidents.forEach(incident => {\n      const urgencyColors = {\n        low: '#10b981',\n        medium: '#f59e0b',\n        high: '#ef4444'\n      };\n\n      const emoji = getCategoryEmoji(incident.category);\n      const color = urgencyColors[incident.urgency] || '#6b7280';\n\n      const marker = L.marker([incident.latitude, incident.longitude], {\n        icon: L.divIcon({\n          className: 'custom-incident-marker',\n          html: `\n            <div style=\"\n              background-color: ${color};\n              width: 40px;\n              height: 40px;\n              border-radius: 50%;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              border: 3px solid white;\n              box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n              font-size: 20px;\n              cursor: pointer;\n              transition: transform 0.2s;\n            \">${emoji}</div>\n          `,\n          iconSize: [40, 40],\n          iconAnchor: [20, 20]\n        })\n      });\n\n      const timeAgo = getTimeAgo(new Date(incident.timestamp));\n      const verifiedBadge = incident.is_verified ? '<span style=\"color: #10b981; font-weight: bold;\">‚úì Verified</span>' : '<span style=\"color: #f59e0b;\">‚ö† Unverified</span>';\n      const clusterInfo = incident.cluster_count > 1 ? `<br><span style=\"color: #ef4444; font-weight: bold;\">${incident.cluster_count} reports in this area</span>` : '';\n\n      marker.bindPopup(`\n        <div style=\"min-width: 200px;\">\n          <div style=\"font-size: 18px; margin-bottom: 8px;\">${emoji} <b>${incident.category.toUpperCase()}</b></div>\n          <div style=\"margin-bottom: 4px;\"><b>Urgency:</b> <span style=\"color: ${color}; font-weight: bold;\">${incident.urgency.toUpperCase()}</span></div>\n          <div style=\"margin-bottom: 4px;\"><b>Status:</b> ${verifiedBadge}</div>\n          <div style=\"margin-bottom: 8px;\"><b>Time:</b> ${timeAgo}</div>\n          <div style=\"border-top: 1px solid #e5e7eb; padding-top: 8px; margin-top: 8px;\">${incident.description}</div>\n          ${clusterInfo}\n        </div>\n      `);\n\n      marker.addTo(mapInstanceRef.current);\n      markersRef.current.push(marker);\n    });\n\n    // Auto-center map if there are incidents\n    if (incidents.length > 0 && mapInstanceRef.current) {\n      const bounds = L.latLngBounds(incidents.map(i => [i.latitude, i.longitude]));\n      if (userLocation) {\n        bounds.extend([userLocation.latitude, userLocation.longitude]);\n      }\n      mapInstanceRef.current.fitBounds(bounds, { padding: [50, 50] });\n    } else if (userLocation && mapInstanceRef.current) {\n      mapInstanceRef.current.setView([userLocation.latitude, userLocation.longitude], 14);\n    }\n\n    return () => {\n      // Cleanup on unmount only\n      if (mapInstanceRef.current) {\n        markersRef.current.forEach(marker => marker.remove());\n      }\n    };\n  }, [incidents, userLocation]);\n\n  const getTimeAgo = (date) => {\n    const seconds = Math.floor((new Date() - date) / 1000);\n    \n    if (seconds < 60) return 'Just now';\n    if (seconds < 3600) return `${Math.floor(seconds / 60)} min ago`;\n    if (seconds < 86400) return `${Math.floor(seconds / 3600)} hr ago`;\n    return `${Math.floor(seconds / 86400)} days ago`;\n  };\n\n  return (\n    <div data-testid=\"map-view\" ref={mapRef} style={{ height: '600px', width: '100%' }} />\n  );\n};\n\nexport default MapView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}